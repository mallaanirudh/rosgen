output_dir: ./generated

packages:
  - name: demo_pkg
    build_type: ament_python
    build_dependencies:
      - rclpy
    exec_dependencies:
      - rclpy
      - std_msgs
      - robot_interface
    maintainers:
      - name: Anirudh
        email: anirudh@example.com
    nodes:
      - name: demo_node
        executable: demo_node
        publishers:
          - topic: /chatter
            msg_type: std_msgs.msg.String
        subscribers:
          - topic: /chatter
            msg_type: std_msgs.msg.String
            callback: on_msg

      - name: Anirudh_node
        executable: Anirudh_node
        publishers:
          - topic: /idk
            msg_type: robot_interface.msg.AnirudhMsg
        subscribers:
          - topic: /chatter
            msg_type: std_msgs.msg.String
            callback: on_msg

  - name: robot_interface
    build_type: ament_cmake
    build_dependencies:
      - rosidl_default_generators
    exec_dependencies:
      - rosidl_default_runtime
    maintainers:
      - name: Anirudh
        email: anirudh@example.com
    interfaces:
      messages:
        - name: MyMsg
          fields:
            - string data
        - name: AnirudhMsg
          fields:
            - float32 data
      services:
        - name: MySrv
          request:
            - int32 a
          response:
            - int32 sum
