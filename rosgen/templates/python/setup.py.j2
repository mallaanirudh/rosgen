from setuptools import setup

package_name = "{{ pkg.package_name }}"

setup(
    name=package_name,
    version="{{ pkg.version }}",
    packages=[package_name],
    data_files=[
        ("share/ament_index/resource_index/packages", ["resource/" + package_name]),
        ("share/" + package_name, ["package.xml"]),
    ],
    install_requires=["setuptools"],
    zip_safe=True,
    maintainer="{{ pkg.maintainers[0].name if pkg.maintainers else 'unknown' }}",
    maintainer_email="{{ pkg.maintainers[0].email if pkg.maintainers and pkg.maintainers[0].email else 'unknown@example.com' }}",
    description="{{ pkg.description or 'ROS 2 package generated by rosgen' }}",
    license="{{ pkg.license }}",
    tests_require=["pytest"],
    entry_points={
        "console_scripts": [
            {% for node in pkg.nodes %}
            "{{ node.executable }} = {{ pkg.package_name }}.{{ node.executable }}:main",
            {% endfor %}
        ],
    },
)
